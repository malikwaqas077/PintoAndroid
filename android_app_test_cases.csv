Name,Status,Objective,Precondition,Steps,Expected Result
Log Files Created on App Startup,Approved,Verify that log files are created and all app events are logged properly,1. App is installed on device. 2. App has storage permissions.,1. Launch the app for the first time. 2. Navigate to device file system logs directory (/Android/data/app.sst.pinto/files/logs). 3. Verify log directory is created. 4. Check that log file is created with format YYYY-MM-DD.log or YYYY-MM-DD_N.log. 5. Perform various app actions (connect to server, select amount, etc.). 6. Verify all actions are logged with timestamps, log levels (D/I/W/E), and component tags. 7. Check log file size does not exceed 4MB. 8. Wait for next day or trigger size limit. 9. Verify new log file is created.,1. Log directory exists at /Android/data/app.sst.pinto/files/logs. 2. Log file is created with correct naming format. 3. All app events are logged with proper format: timestamp, level, tag, message. 4. Log file size is limited to 4MB. 5. New log file is created when size limit is reached or date changes. 6. Logs older than 30 days are automatically cleaned up.
Socket Connection on First Startup,Approved,Verify that app automatically connects to WebSocket server on first launch after configuration,1. App is installed. 2. Server configuration is completed (IP and port set). 3. Backend WebSocket server is running and reachable. 4. Network connectivity is available.,1. Complete first-time server configuration (if needed). 2. Save server configuration with valid IP and port. 3. App automatically attempts to connect to WebSocket server. 4. Observe connection state in logs. 5. Verify WebSocket connection is established. 6. Check that server sends initial SCREEN_CHANGE message with AMOUNT_SELECT screen. 7. Verify amount selection screen is displayed. 8. Check logs for connection success messages.,1. WebSocket connection is established automatically after configuration. 2. Connection state changes to CONNECTED. 3. Initial screen (AMOUNT_SELECT) is received from server. 4. Amount selection screen is displayed with correct amounts and currency. 5. All connection events are logged with timestamps. 6. No connection errors occur.
Socket Retry After Connection Failure,Approved,Verify that app retries WebSocket connection for extended period when initial connection fails,1. App is installed and configured. 2. Backend WebSocket server is initially unreachable (stopped or network issue). 3. Network connectivity can be restored.,1. Start app with server URL configured but server is unreachable. 2. Observe connection attempts in logs. 3. Verify app shows CONNECTION_ERROR screen. 4. Wait and observe reconnection attempts. 5. Verify reconnection attempts continue for extended period (check logs for multiple retry attempts). 6. Start backend server or restore network connectivity. 7. Verify app successfully connects after retry. 8. Check that amount selection screen appears after successful connection.,1. App attempts initial connection and fails gracefully. 2. CONNECTION_ERROR screen is displayed. 3. App automatically retries connection at intervals (check logs show multiple reconnection attempts). 4. Reconnection attempts continue for extended period (not just once). 5. When server becomes available, connection succeeds. 6. App transitions from CONNECTION_ERROR to AMOUNT_SELECT screen. 7. All retry attempts are logged with timestamps.
Video Download from Settings,Approved,Verify that video can be downloaded from settings and is cached for screensaver playback,1. App is running. 2. Settings screen is accessible (PIN authentication completed). 3. Network connectivity is available. 4. Video download server is reachable.,1. Long press on screen for 3 seconds to access PIN authentication. 2. Enter correct PIN (01482). 3. Navigate to Settings screen. 4. Tap "Download video" button. 5. Enter site name (e.g., "charlie") in download dialog. 6. Tap "Download" button. 7. Observe download progress indicator. 8. Wait for download to complete. 9. Verify download success message is displayed. 10. Check device file system for downloaded video at /Android/data/app.sst.pinto/files/screensaver/[sitename].mp4. 11. Verify video file exists and has valid size. 12. Check logs for download success messages.,1. Download dialog appears with site name input field. 2. Download progress indicator shows during download. 3. Download completes successfully. 4. Success message "Downloaded and cached for [sitename]" is displayed. 5. Video file is saved to screensaver directory with correct filename. 6. Video file size is greater than 0. 7. Download events are logged. 8. Cached video path is saved in configuration.
Screensaver Video Plays on Amount Selection Screen,Approved,Verify that screensaver video plays correctly when timeout occurs on amount selection screen,1. App is running and connected to server. 2. Amount selection screen is displayed. 3. Screensaver video is downloaded and cached. 4. No user interaction for 30 seconds.,1. Ensure amount selection screen is visible. 2. Do not interact with screen for 30 seconds. 3. Observe timeout behavior. 4. Verify screensaver video overlay appears. 5. Check that video plays smoothly and loops. 6. Verify video is from cached file (not resource). 7. Tap on screen to dismiss screensaver. 8. Verify amount selection screen is restored. 9. Check logs for timeout and screensaver events.,1. After 30 seconds of inactivity, screensaver appears. 2. Screensaver video plays smoothly and loops continuously. 3. Video is displayed as overlay on top of amount selection screen. 4. Tapping screen dismisses screensaver. 5. Amount selection screen is restored to previous state. 6. Timeout and screensaver events are logged. 7. Timer is reset after screensaver dismissal.
Screensaver Video Plays on Connection Error Screen,Approved,Verify that screensaver video plays when timeout occurs on connection error screen,1. App is running. 2. Connection error screen is displayed (server unreachable). 3. Screensaver video is downloaded and cached. 4. No user interaction for 30 seconds.,1. Ensure connection error screen is visible. 2. Do not interact with screen for 30 seconds. 3. Observe timeout behavior. 4. Verify screensaver video overlay appears. 5. Check that video plays smoothly and loops. 6. Tap on screen to dismiss screensaver. 7. Verify connection error screen is restored. 8. Check logs for timeout and screensaver events.,1. After 30 seconds of inactivity, screensaver appears on error screen. 2. Screensaver video plays smoothly and loops continuously. 3. Video is displayed as overlay on top of connection error screen. 4. Tapping screen dismisses screensaver. 5. Connection error screen is restored. 6. Timeout and screensaver events are logged.
Device IP Address Displayed in Settings,Approved,Verify that device IP address is correctly displayed in settings screen,1. App is running. 2. Settings screen is accessible (PIN authentication completed). 3. Device has network connectivity.,1. Long press on screen for 3 seconds to access PIN authentication. 2. Enter correct PIN (01482). 3. Navigate to Settings screen. 4. Locate "Device Information" card. 5. Check "Device IP:" field. 6. Verify IP address is displayed (not "Loading..." or "unknown"). 7. Verify IP address format is valid IPv4 (e.g., 192.168.1.100). 8. Check logs for IP address retrieval.,1. Device IP address is displayed in settings screen. 2. IP address is in valid IPv4 format. 3. IP address is not "unknown" or "Loading...". 4. IP address matches device's actual network IP. 5. IP address retrieval is logged.
Device Serial Number Displayed in Settings,Approved,Verify that device serial number is correctly displayed in settings screen,1. App is running. 2. Settings screen is accessible (PIN authentication completed). 3. Device has valid serial number.,1. Long press on screen for 3 seconds to access PIN authentication. 2. Enter correct PIN (01482). 3. Navigate to Settings screen. 4. Locate "Device Information" card. 5. Check "Serial Number:" field. 6. Verify serial number is displayed (not "Loading..." or "unknown"). 7. Check logs for serial number retrieval.,1. Device serial number is displayed in settings screen. 2. Serial number is not "unknown" or "Loading...". 3. Serial number matches device's actual serial number. 4. Serial number retrieval is logged.
Device Information Sent to Server on Request,Approved,Verify that device IP address and serial number are sent to server when INFO_SCREEN message is received,1. App is running and connected to WebSocket server. 2. Backend server can send INFO_SCREEN messages. 3. Device has network connectivity and valid serial number.,1. Ensure app is connected to WebSocket server. 2. Server sends INFO_SCREEN message with requestType: "DEVICE_INFO". 3. Observe app behavior. 4. Check WebSocket messages sent by app. 5. Verify DEVICE_INFO messages are sent with device IP address. 6. Verify DEVICE_INFO messages are sent with device serial number. 7. Check logs for device info sending events. 8. Verify transactionId from INFO_SCREEN is used in response messages.,1. App receives INFO_SCREEN message with requestType: "DEVICE_INFO". 2. App automatically sends DEVICE_INFO message with deviceIpAddress field containing valid IP. 3. App automatically sends DEVICE_INFO message with deviceSerialNumber field containing valid serial. 4. Response messages use the same transactionId from INFO_SCREEN request. 5. Device info sending is logged. 6. Screen state does not change (INFO_SCREEN is informational only).
Close App from Settings,Approved,Verify that app closes properly when Close App button is pressed in settings,1. App is running. 2. Settings screen is accessible (PIN authentication completed). 3. Kiosk mode is configured (if applicable).,1. Long press on screen for 3 seconds to access PIN authentication. 2. Enter correct PIN (01482). 3. Navigate to Settings screen. 4. Scroll to bottom of settings options. 5. Locate "Close App" button (red/destructive button). 6. Tap "Close App" button. 7. Observe app behavior. 8. Verify app closes completely. 9. If kiosk mode is enabled, verify app automatically reopens. 10. Check logs for close app event.,1. "Close App" button is visible in settings screen. 2. Button has error/destructive styling (red color). 3. Tapping button closes the app immediately. 4. App process terminates (finishAffinity() is called). 5. If kiosk mode is enabled, app automatically reopens after closing. 6. Close app event is logged.
Close App from Server RESTART_APP Message,Approved,Verify that app closes when RESTART_APP message is received from server,1. App is running and connected to WebSocket server. 2. Backend server can send RESTART_APP messages. 3. Kiosk mode is configured (if applicable).,1. Ensure app is connected to WebSocket server. 2. Server sends RESTART_APP message via WebSocket. 3. Observe app behavior. 4. Verify app closes immediately. 5. Check logs for RESTART_APP message receipt and app closure. 6. If kiosk mode is enabled, verify app automatically reopens. 7. Verify app reconnects to server after restart.,1. App receives RESTART_APP message from server. 2. App closes immediately (finishAffinity() is called). 3. RESTART_APP message receipt is logged. 4. App closure is logged. 5. If kiosk mode is enabled, app automatically reopens. 6. App reconnects to server after restart. 7. App returns to normal operation.
Complete Payment Transaction Flow - Success,Approved,Verify complete end-to-end payment transaction flow from amount selection to thank you screen,1. App is running and connected to WebSocket server. 2. Backend server is configured to process payments. 3. Amount selection screen is displayed.,1. Select a predefined amount (e.g., 60) from amount selection screen. 2. Verify payment method selection screen appears. 3. Select a payment method (e.g., DEBIT_CARD). 4. Verify processing screen appears. 5. Wait for server to process payment. 6. Verify success screen appears with receipt option. 7. Select receipt preference (YES or NO). 8. Verify ticket printing screen appears (if receipt selected). 9. Verify collect ticket screen appears. 10. Verify thank you screen appears. 11. Wait for timeout or server to return to amount selection. 12. Check logs for all transaction events.,1. Amount selection sends USER_ACTION message with selectedAmount. 2. Payment method selection screen displays with correct methods. 3. Payment method selection sends USER_ACTION message. 4. Processing screen appears during payment processing. 5. Success screen appears after successful payment. 6. Receipt question is displayed and response is sent. 7. Ticket printing and collection screens appear in sequence. 8. Thank you screen is displayed. 9. All screen transitions are logged. 10. All socket messages are logged with transaction IDs.
Complete Payment Transaction Flow - Failure,Approved,Verify complete payment transaction flow when payment fails,1. App is running and connected to WebSocket server. 2. Backend server is configured to simulate payment failure. 3. Amount selection screen is displayed.,1. Select a predefined amount from amount selection screen. 2. Verify payment method selection screen appears. 3. Select a payment method. 4. Verify processing screen appears. 5. Wait for server to process payment (simulate failure). 6. Verify failed screen appears with error message. 7. Verify error message is displayed correctly. 8. Wait for timeout or server to return to amount selection. 9. Check logs for failure events.,1. Payment method selection sends USER_ACTION message. 2. Processing screen appears. 3. Failed screen appears with error message from server. 4. Error message is clearly displayed to user. 5. App eventually returns to amount selection screen. 6. All failure events are logged. 7. Transaction ID is maintained throughout flow.
Custom Amount Entry via Keypad,Approved,Verify that custom amount can be entered using keypad screen,1. App is running and connected to WebSocket server. 2. Amount selection screen is displayed with "Other" option enabled.,1. Tap "Other" option on amount selection screen. 2. Verify keypad screen appears. 3. Enter custom amount using keypad (e.g., 75). 4. Verify amount is displayed as entered. 5. Tap confirm/submit button. 6. Verify payment method selection screen appears with entered amount. 7. Check logs for keypad entry events.,1. Keypad screen appears after selecting "Other". 2. Keypad allows numeric input. 3. Entered amount is displayed correctly. 4. Amount validation works (min/max limits enforced if configured). 5. Submitting amount sends USER_ACTION message with selectedAmount and selectionMethod: "KEYPAD". 6. Payment method selection screen shows correct custom amount. 7. Keypad entry events are logged.
Payment Cancellation,Approved,Verify that payment can be cancelled and app returns to amount selection,1. App is running and connected to WebSocket server. 2. Payment method selection screen is displayed. 3. Cancel option is enabled (allowCancel: true).,1. Select amount and proceed to payment method selection. 2. Verify cancel button is visible on payment method screen. 3. Tap cancel button. 4. Verify cancellation message is sent to server. 5. Verify app returns to amount selection screen. 6. Check logs for cancellation events.,1. Cancel button is visible on payment method selection screen. 2. Tapping cancel sends USER_ACTION message with screen: "CANCEL". 3. App returns to amount selection screen. 4. RESET message is sent to server. 5. Cancellation events are logged. 6. Transaction is properly cancelled.
Limit Error Handling,Approved,Verify that limit error is displayed when amount exceeds daily limit,1. App is running and connected to WebSocket server. 2. Backend server is configured to enforce daily limits. 3. Amount selection screen is displayed.,1. Select an amount that exceeds daily limit (or server simulates limit error). 2. Verify limit error screen appears. 3. Verify error message is displayed (e.g., "Limit exceeded"). 4. Verify limit and remaining amount information is displayed (if provided by server). 5. Verify return to amount selection option (if available). 6. Check logs for limit error events.,1. Limit error screen appears when limit is exceeded. 2. Error message is clearly displayed. 3. Limit information is shown (if provided by server). 4. App can return to amount selection screen. 5. Limit error events are logged. 6. Transaction ID is maintained.
QR Code Display,Approved,Verify that QR code screen is displayed when payment method requires QR code,1. App is running and connected to WebSocket server. 2. Backend server sends QR_CODE screen with paymentUrl.,1. Select amount and proceed to payment method selection. 2. Select payment method that requires QR code (e.g., PAY_BY_BANK). 3. Verify QR code screen appears. 4. Verify QR code is displayed with payment URL. 5. Verify QR code is scannable. 6. Wait for payment processing or timeout. 7. Check logs for QR code display events.,1. QR code screen appears after selecting QR-based payment method. 2. QR code is displayed correctly. 3. QR code contains valid payment URL from server. 4. QR code is scannable by external devices. 5. QR code display events are logged.
Receipt Question Screen,Approved,Verify that receipt question screen appears after successful payment,1. App is running and connected to WebSocket server. 2. Payment transaction is successful. 3. Server sends RECEIPT_QUESTION screen.,1. Complete payment transaction successfully. 2. Verify receipt question screen appears. 3. Verify YES and NO options are available. 4. Select YES option. 5. Verify receipt response is sent to server. 6. Verify ticket printing flow continues. 7. Repeat with NO option. 8. Check logs for receipt question events.,1. Receipt question screen appears after successful payment. 2. YES and NO options are clearly displayed. 3. Selecting YES sends USER_ACTION with screen: "RECEIPT_RESPONSE" and selectionMethod: "YES". 4. Selecting NO sends USER_ACTION with screen: "RECEIPT_RESPONSE" and selectionMethod: "NO". 5. Ticket printing flow continues if YES is selected. 6. Receipt question events are logged.
Timeout During Payment Processing,Approved,Verify that screensaver does not appear during payment processing,1. App is running and connected to WebSocket server. 2. Payment is in processing state. 3. Screensaver video is available.,1. Start payment transaction and reach processing screen. 2. Do not interact with screen for 30+ seconds while on processing screen. 3. Observe screensaver behavior. 4. Verify payment processing continues. 5. Check logs for timeout handling.,1. Screensaver does NOT appear during payment processing. 2. Processing screen remains visible. 3. Payment processing continues normally. 4. Timeout is suppressed for processing state. 5. Timeout suppression is logged.
Screensaver Suppression on Post-Payment Screens,Approved,Verify that screensaver does not appear on post-payment screens (success, ticket, thank you),1. App is running and connected to WebSocket server. 2. Payment transaction is completed. 3. App is on post-payment screen (SUCCESS, PRINT_TICKET, COLLECT_TICKET, or THANK_YOU).,1. Complete payment transaction successfully. 2. Reach any post-payment screen (SUCCESS, PRINT_TICKET, COLLECT_TICKET, or THANK_YOU). 3. Do not interact with screen for 30+ seconds. 4. Observe screensaver behavior. 5. Check logs for timeout handling.,1. Screensaver does NOT appear on post-payment screens. 2. Post-payment screen remains visible. 3. Timeout is suppressed for post-payment states. 4. Timeout suppression is logged.
PIN Authentication - Correct PIN,Approved,Verify that settings screen is accessible with correct PIN,1. App is running. 2. Settings are not accessible without PIN.,1. Long press on screen for 3 seconds. 2. Verify PIN authentication screen appears. 3. Enter correct PIN: 01482. 4. Verify settings screen appears after correct PIN. 5. Check logs for PIN authentication events.,1. PIN authentication screen appears after long press. 2. PIN can be entered using keypad. 3. Entering correct PIN (01482) grants access to settings. 4. Settings screen is displayed. 5. PIN authentication success is logged.
PIN Authentication - Incorrect PIN,Approved,Verify that settings screen is not accessible with incorrect PIN,1. App is running. 2. Settings are not accessible without PIN.,1. Long press on screen for 3 seconds. 2. Verify PIN authentication screen appears. 3. Enter incorrect PIN (e.g., 12345). 4. Verify error message appears. 5. Verify PIN field is cleared after error. 6. Verify settings screen is NOT displayed. 7. Check logs for PIN authentication failure.,1. PIN authentication screen appears. 2. Entering incorrect PIN shows error message. 3. PIN field is automatically cleared after error. 4. Settings screen is NOT displayed. 5. PIN authentication failure is logged. 6. User can retry PIN entry.
Server Configuration - First Launch,Approved,Verify that server configuration screen appears on first app launch,1. App is installed. 2. App is launched for the first time. 3. No server configuration exists.,1. Launch app for the first time. 2. Verify server configuration screen appears automatically. 3. Enter server IP address. 4. Enter server port. 5. Tap save button. 6. Verify configuration is saved. 7. Verify app attempts to connect to server. 8. Check logs for configuration events.,1. Server configuration screen appears on first launch. 2. IP address and port fields are available. 3. Configuration can be saved. 4. Configuration is persisted. 5. App attempts WebSocket connection after configuration. 6. Configuration events are logged.
Server Configuration - Update from Settings,Approved,Verify that server configuration can be updated from settings and app restarts,1. App is running. 2. Settings screen is accessible (PIN authentication completed). 3. Existing server configuration exists.,1. Access settings screen via PIN authentication. 2. Tap "Server configuration" button. 3. Verify server configuration screen appears with current IP and port. 4. Update IP address. 5. Update port. 6. Tap save button. 7. Verify configuration is saved. 8. Observe app behavior. 9. Check logs for configuration update events.,1. Server configuration screen appears with current values. 2. IP and port can be updated. 3. Configuration is saved successfully. 4. App closes automatically after saving (finishAffinity() is called). 5. If kiosk mode is enabled, app reopens. 6. App connects to new server configuration. 7. Configuration update events are logged.
WebSocket Reconnection After Network Loss,Approved,Verify that WebSocket reconnects automatically after network connectivity is restored,1. App is running and connected to WebSocket server. 2. Network connectivity can be controlled (Wi-Fi can be disabled/enabled).,1. Ensure app is connected to WebSocket server. 2. Disable Wi-Fi or network connectivity. 3. Observe connection state. 4. Verify connection error screen appears. 5. Verify reconnection attempts are logged. 6. Re-enable Wi-Fi or network connectivity. 7. Observe reconnection behavior. 8. Verify app reconnects to server. 9. Verify amount selection screen appears. 10. Check logs for reconnection events.,1. WebSocket disconnects when network is lost. 2. Connection error screen appears. 3. Reconnection attempts are logged. 4. When network is restored, app automatically reconnects. 5. Connection state returns to CONNECTED. 6. Amount selection screen appears after reconnection. 7. All reconnection events are logged.
WebSocket Message Parsing Error Handling,Approved,Verify that app handles malformed WebSocket messages gracefully,1. App is running and connected to WebSocket server. 2. Backend server can send malformed messages (test scenario).,1. Ensure app is connected to WebSocket server. 2. Server sends malformed JSON message. 3. Observe app behavior. 4. Verify app does not crash. 5. Verify error is logged. 6. Verify WebSocket connection remains active. 7. Verify app continues to process other messages. 8. Check logs for parsing error.,1. App receives malformed message without crashing. 2. Parsing error is logged with error details. 3. WebSocket connection remains active. 4. App continues to function normally. 5. Other valid messages are still processed. 6. Error handling is logged.
Log File Rotation and Cleanup,Approved,Verify that log files are rotated and old logs are cleaned up automatically,1. App is running. 2. Log files exist from previous days (or simulate by changing system date). 3. Log file size can exceed 4MB (or simulate).,1. Check existing log files in logs directory. 2. Verify log files older than 30 days exist (or change system date). 3. Perform actions to generate new log entries. 4. Wait for log cleanup to occur (or trigger manually if possible). 5. Verify old log files are deleted. 6. Generate enough log entries to exceed 4MB file size. 7. Verify new log file is created when size limit is reached. 8. Check logs directory structure.,1. Log files older than 30 days are automatically deleted. 2. Log file size is limited to 4MB. 3. New log file is created when size limit is reached (format: YYYY-MM-DD_N.log). 4. Log directory contains only recent log files (within 30 days). 5. Log cleanup events are logged (if applicable).
Press and Hold to Access Settings,Approved,Verify that long press gesture (3 seconds) triggers PIN authentication screen,1. App is running. 2. App is on main payment screen (not in settings or configuration).,1. Ensure app is on main payment screen (amount selection or any payment screen). 2. Long press on screen for 3 seconds. 3. Observe app behavior. 4. Verify PIN authentication screen appears. 5. Verify short press does not trigger PIN screen. 6. Check logs for press and hold events.,1. Long press (3 seconds) triggers PIN authentication screen. 2. Short press does not trigger PIN screen. 3. PIN authentication screen appears correctly. 4. Press and hold gesture is logged.
Default Screensaver Video Playback,Approved,Verify that default screensaver video (from resources) plays when no cached video is available,1. App is running. 2. No custom screensaver video is downloaded/cached. 3. Default screensaver video resource exists.,1. Ensure no custom screensaver video is cached. 2. Trigger timeout (wait 30 seconds without interaction on amount selection screen). 3. Verify screensaver appears. 4. Verify default screensaver video plays (from app resources). 5. Verify video plays smoothly and loops. 6. Check logs for screensaver playback.,1. Screensaver appears after timeout. 2. Default screensaver video plays from app resources. 3. Video plays smoothly and loops continuously. 4. Default video playback is logged.
Cached Screensaver Video Playback,Approved,Verify that cached screensaver video plays instead of default when available,1. App is running. 2. Custom screensaver video is downloaded and cached. 3. Cached video path is saved in configuration.,1. Download custom screensaver video from settings. 2. Verify video is cached. 3. Trigger timeout (wait 30 seconds without interaction). 4. Verify screensaver appears. 5. Verify cached screensaver video plays (not default resource). 6. Verify video plays smoothly and loops. 7. Check logs for cached video playback.,1. Screensaver appears after timeout. 2. Cached screensaver video plays (not default resource). 3. Video file path is read from configuration. 4. Video plays smoothly and loops continuously. 5. Cached video playback is logged.
Transaction ID Management,Approved,Verify that transaction IDs are properly generated and maintained throughout payment flow,1. App is running and connected to WebSocket server. 2. Payment flow can be initiated.,1. Start payment transaction. 2. Check logs for transaction ID generation. 3. Verify transaction ID is included in all USER_ACTION messages. 4. Verify server responses include same transaction ID. 5. Complete or cancel transaction. 6. Start new transaction. 7. Verify new transaction ID is generated. 8. Check logs for transaction ID usage.,1. Transaction ID is generated for new transactions (UUID format). 2. Transaction ID is included in all USER_ACTION messages. 3. Server responses use same transaction ID. 4. New transaction ID is generated for each new transaction. 5. Transaction ID management is logged.
Error Screen Display and Recovery,Approved,Verify that error screens are displayed correctly and app can recover,1. App is running and connected to WebSocket server. 2. Backend server can send error messages.,1. Trigger error condition (e.g., device error, connection error). 2. Verify appropriate error screen appears. 3. Verify error message is displayed clearly. 4. Wait for server to send recovery message or retry connection. 5. Verify app recovers from error state. 6. Verify app returns to normal operation. 7. Check logs for error and recovery events.,1. Error screen appears with appropriate error message. 2. Error message is clearly displayed to user. 3. App attempts recovery (reconnection, reset, etc.). 4. App returns to normal operation after recovery. 5. Error and recovery events are logged.
WebSocket Connection State Monitoring,Approved,Verify that WebSocket connection state is properly monitored and UI updates accordingly,1. App is running. 2. WebSocket connection state can change (connect, disconnect, reconnect).,1. Start app and observe initial connection. 2. Verify connection state transitions: DISCONNECTED -> CONNECTING -> CONNECTED. 3. Disconnect network and observe state change. 4. Verify UI updates to show connection error. 5. Reconnect network and observe state change. 6. Verify UI updates to show connected state. 7. Check logs for connection state changes.,1. Connection state is properly tracked. 2. UI updates reflect connection state changes. 3. Loading screen appears during CONNECTING state. 4. Connection error screen appears during DISCONNECTED state. 5. Amount selection screen appears during CONNECTED state. 6. All connection state changes are logged.
Payment Method Selection with Cancel Disabled,Approved,Verify that payment method selection screen handles cancel option correctly when disabled,1. App is running and connected to WebSocket server. 2. Server sends PAYMENT_METHOD screen with allowCancel: false.,1. Select amount and proceed to payment method selection. 2. Verify payment method selection screen appears. 3. Verify cancel button is NOT visible (when allowCancel: false). 4. Select a payment method. 5. Verify payment proceeds. 6. Check logs for payment method selection.,1. Payment method selection screen appears. 2. Cancel button is hidden when allowCancel: false. 3. Only payment method options are available. 4. Selecting payment method proceeds with payment. 5. Payment method selection is logged.
Amount Selection with Other Option Disabled,Approved,Verify that amount selection screen handles Other option correctly when disabled,1. App is running and connected to WebSocket server. 2. Server sends AMOUNT_SELECT screen with showOtherOption: false.,1. Verify amount selection screen appears. 2. Verify "Other" option is NOT visible (when showOtherOption: false). 3. Select a predefined amount. 4. Verify payment proceeds. 5. Check logs for amount selection.,1. Amount selection screen appears with predefined amounts. 2. "Other" option is hidden when showOtherOption: false. 3. Only predefined amount buttons are available. 4. Selecting amount proceeds with payment. 5. Amount selection is logged.
