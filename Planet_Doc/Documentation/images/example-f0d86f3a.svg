<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="466px" preserveAspectRatio="none" style="width:1348px;height:466px;background:#FFFFFF;" version="1.1" viewBox="0 0 1348 466" width="1348px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="139.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="763.5" y="273.9141"/><rect height="67.3984" style="stroke:#000000;stroke-width:1.5;fill:none;" width="615" x="727.5" y="288.9141"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="26" x2="26" y1="36.2969" y2="431.5781"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="383.5" x2="383.5" y1="76.9453" y2="431.5781"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="506.5" x2="506.5" y1="118.2422" y2="431.5781"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="639.5" x2="639.5" y1="159.5391" y2="431.5781"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="768.5" x2="768.5" y1="200.8359" y2="431.5781"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="860.5" x2="860.5" y1="242.1328" y2="431.5781"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1003.5" x2="1003.5" y1="36.2969" y2="431.5781"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1165.5" x2="1165.5" y1="36.2969" y2="431.5781"/><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="43" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="12" y="24.9951">POS</text><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="43" x="5" y="430.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="12" y="450.5732">POS</text><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="304.5" y="430.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="311.5" y="450.5732">ChannelClientSocket</text><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="472.5" y="430.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="479.5" y="450.5732">Datalink</text><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="551.5" y="430.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="558.5" y="450.5732">CommunicationContext</text><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="62" x="737.5" y="430.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="744.5" y="450.5732">Integra</text><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="809.5" y="430.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="816.5" y="450.5732">SaleRequest</text><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="921.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="928.5" y="24.9951">IStatusUpdateHandler</text><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="921.5" y="430.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="928.5" y="450.5732">IStatusUpdateHandler</text><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="1095.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="1102.5" y="24.9951">IResponseHandler</text><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="1095.5" y="430.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="1102.5" y="450.5732">IResponseHandler</text><rect fill="#FFFFFF" height="139.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="763.5" y="273.9141"/><polygon fill="#181818" points="292.5,63.4297,302.5,67.4297,292.5,71.4297,296.5,67.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="26.5" x2="298.5" y1="67.4297" y2="67.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254" x="33.5" y="62.3638">channel = new("192.168.1.11", 1234, 1)</text><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="304.5" y="46.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="311.5" y="66.292">ChannelClientSocket</text><polygon fill="#181818" points="460.5,104.7266,470.5,108.7266,460.5,112.7266,464.5,108.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="26.5" x2="466.5" y1="108.7266" y2="108.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="33.5" y="103.6606">datalink = new()</text><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="472.5" y="87.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="479.5" y="107.5889">Datalink</text><polygon fill="#181818" points="539.5,146.0234,549.5,150.0234,539.5,154.0234,543.5,150.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="26.5" x2="545.5" y1="150.0234" y2="150.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="33.5" y="144.9575">comm = new(channel, datalink)</text><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="551.5" y="128.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="558.5" y="148.8857">CommunicationContext</text><polygon fill="#181818" points="725.5,187.3203,735.5,191.3203,725.5,195.3203,729.5,191.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="26.5" x2="731.5" y1="191.3203" y2="191.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="33.5" y="186.2544">new(comm, statusHandler)</text><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="62" x="737.5" y="170.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="744.5" y="190.1826">Integra</text><polygon fill="#181818" points="797.5,228.6172,807.5,232.6172,797.5,236.6172,801.5,232.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="26.5" x2="803.5" y1="232.6172" y2="232.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="33.5" y="227.5513">request = new(options)</text><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="809.5" y="211.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="816.5" y="231.4795">SaleRequest</text><polygon fill="#181818" points="751.5,269.9141,761.5,273.9141,751.5,277.9141,755.5,273.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="26.5" x2="757.5" y1="273.9141" y2="273.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="33.5" y="268.8481">sendRequest(request, responseHandler)</text><path d="M727.5,288.9141 L804.5,288.9141 L804.5,296.0469 L794.5,306.0469 L727.5,306.0469 L727.5,288.9141 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="67.3984" style="stroke:#000000;stroke-width:1.5;" width="615" x="727.5" y="288.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="742.5" y="301.981">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="138" x="819.5" y="301.1245">[every status update]</text><polygon fill="#181818" points="991.5,333.7461,1001.5,337.7461,991.5,341.7461,995.5,337.7461" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="773.5" x2="997.5" y1="337.7461" y2="337.7461"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="780.5" y="332.6802">onStatusUpdate(update)</text><path d="M1008,311.0469 L1008,351.0469 L1327,351.0469 L1327,321.0469 L1317,311.0469 L1008,311.0469 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M1317,311.0469 L1317,321.0469 L1327,321.0469 L1317,311.0469 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298" x="1014" y="328.1138">This is called when a status update is received.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="1014" y="343.2466">This is a callback function.</text><polygon fill="#181818" points="37.5,380.4453,27.5,384.4453,37.5,388.4453,33.5,384.4453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="31.5" x2="762.5" y1="384.4453" y2="384.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245" x="43.5" y="379.3794">true if the request was tried to be sent</text><polygon fill="#181818" points="1154,409.5781,1164,413.5781,1154,417.5781,1158,413.5781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="768.5" x2="1160" y1="413.5781" y2="413.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="775.5" y="408.5122">onResponse(response)</text><!--MD5=[b62c7c069e87923b9dbbd306d1d1a2fb]
@startuml
skinparam monochrome true

create POS

create ChannelClientSocket
POS -> ChannelClientSocket: channel = new("192.168.1.11", 1234, 1)

create Datalink
POS -> Datalink: datalink = new()

create CommunicationContext
POS -> CommunicationContext : comm = new(channel, datalink)

create Integra
POS -> Integra : new(comm, statusHandler)

create SaleRequest
POS -> SaleRequest : request = new(options)

POS -> Integra : sendRequest(request, responseHandler)

activate Integra
loop every status update
Integra -> IStatusUpdateHandler: onStatusUpdate(update)
note right
  This is called when a status update is received.
  This is a callback function.
end note

end

Integra - -> POS : true if the request was tried to be sent
Integra -> IResponseHandler : onResponse(response)

deactivate Integra

@enduml

PlantUML version 1.2022.6(Tue Jun 21 17:34:49 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: ISO-8859-1
Language: en
Country: US
--></g></svg>