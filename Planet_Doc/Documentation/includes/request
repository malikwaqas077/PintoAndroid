<h1 id='requests'>Requests</h1>
<p>You can issue requests to the terminal to perform various operations, ex: <a href="#requests-control-requests-initializerequest">Initialize</a> the terminal to update configuration / firmware, issue a <a href="#requests-settlement-requests-salerequest">Sale</a>, return the current <a href="#requests-status-requests-inforequest">Status</a> of the terminal, etc.
Requests are sent to the terminal via <a href="#integra">Integra</a> class.</p>

<p>Requests are created by supplying a set of options. Depending on the request type, some options may be required; for example, a <a href="#requests-settlement-requests-salerequest">SaleRequest</a> is required to also have the <a href="#request-amp-response-options-additional-request-amp-response-fields">TAG_AMOUNT</a>.</p>
<h2 id='requests-irequest'>IRequest</h2>
<p><em>IRequest</em> is a generic interface common to all requests</p>
<h3 id='requests-irequest-methods'>Methods</h3><h3 id='requests-irequest-validateoptions'>validateOptions</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">IRequest</span><span class="o">::</span><span class="n">TAG_REQUESTERTRANSREFNUM</span><span class="p">,</span> <span class="s">"20200407-000"</span><span class="p">));</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">infoRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">InfoRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
<span class="kt">bool</span> <span class="n">isInfoValid</span> <span class="o">=</span> <span class="n">infoRequest</span><span class="o">-&gt;</span><span class="n">validateOptions</span><span class="p">();</span> <span class="c1">//Returns true</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">saleRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">SaleRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
<span class="kt">bool</span> <span class="n">isSaleValid</span> <span class="o">=</span> <span class="n">saleRequest</span><span class="o">-&gt;</span><span class="n">validateOptions</span><span class="p">();</span> <span class="c1">//Returns false</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nc">IRequest</span><span class="o">.</span><span class="na">TAG_REQUESTERTRANSREFNUM</span><span class="o">,</span> <span class="s">"20200407-000"</span><span class="o">);</span>
<span class="nc">IRequest</span> <span class="n">infoRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">InfoRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
<span class="kt">boolean</span> <span class="n">isInfoValid</span> <span class="o">=</span> <span class="n">infoRequest</span><span class="o">.</span><span class="na">validateOptions</span><span class="o">();</span> <span class="c1">//Returns true</span>

<span class="nc">IRequest</span> <span class="n">saleRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SaleRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
<span class="kt">boolean</span> <span class="n">isSaleValid</span> <span class="o">=</span> <span class="n">saleRequest</span><span class="o">.</span><span class="na">validateOptions</span><span class="o">();</span> <span class="c1">//Returns false, missing TAG_AMOUNT</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">IRequest</span><span class="p">.</span><span class="n">TAG_REQUESTERTRANSREFNUM</span><span class="p">,</span> <span class="s">"20200407-000"</span><span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">infoRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">InfoRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
<span class="kt">bool</span> <span class="n">isInfoValid</span> <span class="p">=</span> <span class="n">infoRequest</span><span class="p">.</span><span class="nf">validateOptions</span><span class="p">();</span> <span class="c1">//Returns true</span>

<span class="n">IRequest</span> <span class="n">saleRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SaleRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
<span class="kt">bool</span> <span class="n">isSaleValid</span> <span class="p">=</span> <span class="n">saleRequest</span><span class="p">.</span><span class="nf">validateOptions</span><span class="p">();</span> <span class="c1">//Returns false, missing TAG_AMOUNT</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>
    <span class="kt">PPIRequestTags</span><span class="o">.</span><span class="kt">TAG_REQUESTERTRANSREFNUM</span><span class="p">:</span> <span class="s">"20200407-000"</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">infoRequest</span><span class="p">:</span><span class="kt">PPIRequest</span> <span class="o">=</span> <span class="kt">PPInfoRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">isInfoValid</span> <span class="o">=</span> <span class="n">infoRequest</span><span class="o">.</span><span class="nf">validateOptions</span><span class="p">()</span> <span class="c1">//Returns True</span>

<span class="k">let</span> <span class="nv">saleRequest</span><span class="p">:</span><span class="kt">PPIRequest</span> <span class="o">=</span> <span class="kt">PPSaleRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">isInfoValid</span> <span class="o">=</span> <span class="n">saleRequest</span><span class="o">.</span><span class="nf">validateOptions</span><span class="p">()</span> <span class="c1">//Returns False, missing TAG_AMOUNT</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>
    <span class="nl">TAG_REQUESTERTRANSREFNUM:</span> <span class="s">"20200407-000"</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">infoRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPInfoRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
<span class="n">BOOL</span> <span class="n">isRequestValid</span> <span class="o">=</span> <span class="p">[</span><span class="n">infoRequest</span> <span class="nf">validateOptions</span><span class="p">];</span> <span class="c1">//Returns YES</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">saleRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPSaleRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
<span class="n">BOOL</span> <span class="n">isRequestValid</span> <span class="o">=</span> <span class="p">[</span><span class="n">saleRequest</span> <span class="nf">validateOptions</span><span class="p">];</span> <span class="c1">//Returns NO, missing TAG_AMOUNT</span>
</code></pre></div>
<blockquote>
<p><em>isSaleValid</em> is false because it is missing the required option <a href="#request-amp-response-options-additional-request-amp-response-fields">TAG_AMOUNT</a></p>
</blockquote>

<p>This method allows request validation before it is sent to <em>Integra</em>. This method will return true if all required options are present</p>
<h3 id='requests-irequest-getsequencenumber'>getSequenceNumber</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">IRequest</span><span class="o">::</span><span class="n">TAG_REQUESTERTRANSREFNUM</span><span class="p">,</span> <span class="s">"20200407-000"</span><span class="p">));</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">IRequest</span><span class="o">::</span><span class="n">TAG_SEQUENCENUMBER</span><span class="p">,</span> <span class="s">"10"</span><span class="p">));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">infoRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">InfoRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">sequenceNumber</span> <span class="o">=</span> <span class="n">infoRequest</span><span class="o">-&gt;</span><span class="n">getSequenceNumber</span><span class="p">();</span> <span class="c1">// 10. This sequence number was manually assigned in the request options</span>

<span class="cm">/*------*/</span>

<span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">IRequest</span><span class="o">::</span><span class="n">TAG_REQUESTERTRANSREFNUM</span><span class="p">,</span> <span class="s">"20200407-000"</span><span class="p">));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">infoRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">InfoRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">sequenceNumber</span> <span class="o">=</span> <span class="n">infoRequest</span><span class="o">-&gt;</span><span class="n">getSequenceNumber</span><span class="p">();</span> <span class="c1">// -1. This request does not have any sequence number manually associated, and has not been sent yet</span>

<span class="n">myIntegra</span><span class="o">-&gt;</span><span class="n">sendRequest</span><span class="p">(</span><span class="n">infoRequest</span><span class="p">);</span>
<span class="n">sequenceNumber</span> <span class="o">=</span> <span class="n">infoRequest</span><span class="o">-&gt;</span><span class="n">getSequenceNumber</span><span class="p">();</span> <span class="c1">// 0. This was the first request sent. It has been assigned the sequencenumber 0</span>

<span class="c1">// Next request</span>
<span class="c1">//(...)</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">infoRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">InfoRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
<span class="n">myIntegra</span><span class="o">-&gt;</span><span class="n">sendRequest</span><span class="p">(</span><span class="n">infoRequest</span><span class="p">);</span>
<span class="n">sequenceNumber</span> <span class="o">=</span> <span class="n">infoRequest</span><span class="o">-&gt;</span><span class="n">getSequenceNumber</span><span class="p">();</span> <span class="c1">// 1. This was the second request sent. It has been assigned the sequencenumber 1</span>

</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nc">IRequest</span><span class="o">.</span><span class="na">TAG_REQUESTERTRANSREFNUM</span><span class="o">,</span> <span class="s">"20200407-000"</span><span class="o">);</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nc">IRequest</span><span class="o">.</span><span class="na">TAG_SEQUENCENUMBER</span><span class="o">,</span> <span class="s">"10"</span><span class="o">);</span>

<span class="nc">IRequest</span> <span class="n">infoRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">InfoRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">sequenceNumber</span> <span class="o">=</span> <span class="n">infoRequest</span><span class="o">.</span><span class="na">getSequenceNumber</span><span class="o">();</span> <span class="c1">// 10. This sequence number was manually assigned in the request options</span>

<span class="cm">/*------*/</span>

<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nc">IRequest</span><span class="o">.</span><span class="na">TAG_REQUESTERTRANSREFNUM</span><span class="o">,</span> <span class="s">"20200407-000"</span><span class="o">);</span>

<span class="nc">IRequest</span> <span class="n">infoRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">InfoRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">sequenceNumber</span> <span class="o">=</span> <span class="n">infoRequest</span><span class="o">.</span><span class="na">getSequenceNumber</span><span class="o">();</span> <span class="c1">// -1. This request does not have any sequence number manually associated, and has not been sent yet</span>

<span class="n">myIntegra</span><span class="o">.</span><span class="na">sendRequest</span><span class="o">(</span><span class="n">infoRequest</span><span class="o">);</span>
<span class="n">sequenceNumber</span> <span class="o">=</span> <span class="n">infoRequest</span><span class="o">.</span><span class="na">getSequenceNumber</span><span class="o">();</span> <span class="c1">// 0. This was the first request sent. It has been assigned the sequencenumber 0</span>

<span class="c1">// Next request</span>
<span class="c1">//(...)</span>
<span class="nc">IRequest</span> <span class="n">infoRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">InfoRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
<span class="n">myIntegra</span><span class="o">.</span><span class="na">sendRequest</span><span class="o">(</span><span class="n">infoRequest</span><span class="o">);</span>
<span class="n">sequenceNumber</span> <span class="o">=</span> <span class="n">infoRequest</span><span class="o">.</span><span class="na">getSequenceNumber</span><span class="o">();</span> <span class="c1">// 1. This was the second request sent. It has been assigned the sequencenumber 1</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">IRequest</span><span class="p">.</span><span class="n">TAG_REQUESTERTRANSREFNUM</span><span class="p">,</span> <span class="s">"20200407-000"</span><span class="p">,</span>
      <span class="n">IRequest</span><span class="p">.</span><span class="n">TAG_SEQUENCENUMBER</span><span class="p">,</span> <span class="s">"10"</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">infoRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">InfoRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">sequenceNumber</span> <span class="p">=</span> <span class="n">infoRequest</span><span class="p">.</span><span class="nf">getSequenceNumber</span><span class="p">();</span> <span class="c1">// 10. This sequence number was manually assigned in the request options</span>

<span class="cm">/*------*/</span>

<span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">IRequest</span><span class="p">.</span><span class="n">TAG_REQUESTERTRANSREFNUM</span><span class="p">,</span> <span class="s">"20200407-000"</span><span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">infoRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">InfoRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">sequenceNumber</span> <span class="p">=</span> <span class="n">infoRequest</span><span class="p">.</span><span class="nf">getSequenceNumber</span><span class="p">();</span> <span class="c1">// -1. This request does not have any sequence number manually associated, and has not been sent yet</span>

<span class="n">myIntegra</span><span class="p">.</span><span class="nf">sendRequest</span><span class="p">(</span><span class="n">infoRequest</span><span class="p">);</span>
<span class="n">sequenceNumber</span> <span class="p">=</span> <span class="n">infoRequest</span><span class="p">.</span><span class="nf">getSequenceNumber</span><span class="p">();</span> <span class="c1">// 0. This was the first request sent. It has been assigned the sequencenumber 0</span>

<span class="c1">// Next request</span>
<span class="c1">//(...)</span>
<span class="n">IRequest</span> <span class="n">infoRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">InfoRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
<span class="n">myIntegra</span><span class="p">.</span><span class="nf">sendRequest</span><span class="p">(</span><span class="n">infoRequest</span><span class="p">);</span>
<span class="n">sequenceNumber</span> <span class="p">=</span> <span class="n">infoRequest</span><span class="p">.</span><span class="nf">getSequenceNumber</span><span class="p">();</span> <span class="c1">// 1. This was the second request sent. It has been assigned the sequencenumber 1</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>
    <span class="kt">PPIRequestTags</span><span class="o">.</span><span class="kt">TAG_REQUESTERTRANSREFNUM</span><span class="p">:</span> <span class="s">"20200407-000"</span><span class="p">,</span>
    <span class="kt">PPIRequestTags</span><span class="o">.</span><span class="kt">TAG_SEQUENCENUMBER</span><span class="p">:</span> <span class="s">"10"</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">infoRequest</span><span class="p">:</span><span class="kt">PPIRequest</span> <span class="o">=</span> <span class="kt">PPInfoRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">sequenceNumber</span> <span class="o">=</span> <span class="n">infoRequest</span><span class="o">.</span><span class="nf">getSequenceNumber</span><span class="p">()</span> <span class="c1">// 10. This sequence number was manually assigned in the request options</span>

<span class="cm">/*------*/</span>

<span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>
    <span class="kt">PPIRequestTags</span><span class="o">.</span><span class="kt">TAG_REQUESTERTRANSREFNUM</span><span class="p">:</span> <span class="s">"20200407-000"</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">infoRequest</span><span class="p">:</span><span class="kt">PPIRequest</span> <span class="o">=</span> <span class="kt">PPInfoRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">sequenceNumber</span> <span class="o">=</span> <span class="n">infoRequest</span><span class="o">.</span><span class="nf">getSequenceNumber</span><span class="p">()</span> <span class="c1">// -1. This request does not have any sequence number manually associated, and has not been sent yet</span>

<span class="n">myIntegra</span><span class="o">.</span><span class="nf">sendRequest</span><span class="p">(</span><span class="n">infoRequest</span><span class="p">)</span>
<span class="n">sequenceNumber</span> <span class="o">=</span> <span class="n">infoRequest</span><span class="o">.</span><span class="nf">getSequenceNumber</span><span class="p">()</span> <span class="c1">// 0. This was the first request sent. It has been assigned the sequencenumber 0</span>

<span class="c1">// Next request</span>
<span class="c1">//(...)</span>
<span class="k">let</span> <span class="nv">infoRequest</span><span class="p">:</span><span class="kt">PPIRequest</span> <span class="o">=</span> <span class="kt">PPInfoRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
<span class="n">myIntegra</span><span class="o">.</span><span class="nf">sendRequest</span><span class="p">(</span><span class="n">infoRequest</span><span class="p">)</span>
<span class="n">sequenceNumber</span> <span class="o">=</span> <span class="n">infoRequest</span><span class="o">.</span><span class="nf">getSequenceNumber</span><span class="p">()</span> <span class="c1">// 1. This was the second request sent. It has been assigned the sequencenumber 1</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>
    <span class="nl">TAG_REQUESTERTRANSREFNUM:</span> <span class="s">"20200407-000"</span><span class="p">,</span>
    <span class="nl">TAG_SEQUENCENUMBER:</span> <span class="s">"10"</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">infoRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPInfoRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">sequenceNumber</span> <span class="o">=</span> <span class="n">infoRequest</span><span class="p">.</span><span class="n">sequenceNumber</span><span class="p">;</span> <span class="c1">// 10. This sequence number was manually assigned in the request options</span>

<span class="cm">/*------*/</span>

<span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>
    <span class="nl">TAG_REQUESTERTRANSREFNUM:</span> <span class="s">"20200407-000"</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">infoRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPInfoRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">sequenceNumber</span> <span class="o">=</span> <span class="n">infoRequest</span><span class="p">.</span><span class="n">sequenceNumber</span><span class="p">;</span> <span class="c1">// -1. This request does not have any sequence number manually associated, and has not been sent yet</span>

<span class="p">[</span><span class="n">myIntegra</span> <span class="nf">sendRequest</span><span class="p">:</span><span class="n">infoRequest</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">sequenceNumber</span> <span class="o">=</span> <span class="n">infoRequest</span><span class="p">.</span><span class="n">sequenceNumber</span><span class="p">;</span> <span class="c1">// 0. This was the first request sent. It has been assigned the sequencenumber 0</span>

<span class="c1">// Next request</span>
<span class="c1">//(...)</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">infoRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPInfoRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
<span class="p">[</span><span class="n">myIntegra</span> <span class="nf">sendRequest</span><span class="p">:</span><span class="n">infoRequest</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">sequenceNumber</span> <span class="o">=</span> <span class="n">infoRequest</span><span class="p">.</span><span class="n">sequenceNumber</span><span class="p">;</span> <span class="c1">// 1. This was the first request sent. It has been assigned the sequencenumber 1</span>
</code></pre></div>
<p>This method returns the sequence number associated with this request.
If TAG_SEQUENCENUMBER is present in the request options, it is used and no sequence number will be generated/incremented.
If no TAG_SEQUENCENUMBER is present in the request options, one will be generated and assigned to the request.</p>
<h2 id='requests-auth-requests'>Auth requests</h2><h3 id='requests-auth-requests-preauthrequest'>PreAuthRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">PRE_AUTH_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">preAuthRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">PreAuthRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">preAuthRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">PRE_AUTH_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">preAuthRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PreAuthRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">preAuthRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">PRE_AUTH_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">preAuthRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">PreAuthRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">preAuthRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">SALE_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">preAuthRequest</span> <span class="o">=</span> <span class="kt">PPPreAuthRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">preAuthRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">SALE_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">preAuthRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPPreAuthRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">preAuthRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>This message is used to process a pre-authorization, or also called initial authorization. An EMV terminal is used to enter the card and eventually the PIN. The EMV terminal Id in the request determines the terminal to use in H2H connections. It performs an authorization for an amount not necessarily equal to the final transaction amount.</p>

<aside class="warning">
    PreAuthRequest requires the option TAG_AMOUNT
</aside>
<h3 id='requests-auth-requests-preauthnoterminalrequest'>PreAuthNoTerminalRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">PRE_AUTH_NO_TERMINAL_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">preAuthRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">PreAuthNoTerminalRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">preAuthRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">PRE_AUTH_NO_TERMINAL_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">preAuthRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PreAuthNoTerminalRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">preAuthRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">PRE_AUTH_NO_TERMINAL_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">preAuthRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">PreAuthNoTerminalRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">preAuthRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">PRE_AUTH_NO_TERMINAL_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">preAuthRequest</span> <span class="o">=</span> <span class="kt">PPPreAuthNoTerminalRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">preAuthRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">PRE_AUTH_NO_TERMINAL_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">preAuthRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPPreAuthNoTerminalRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">preAuthRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>This message is used to process a pre-authorization, or also called initial authorization. No EMV terminal is used to enter card data. It performs an authorization for an amount not necessarily equal to the final transaction amount.</p>

<aside class="warning">
    PreAuthNoTerminalRequest is only available in H2H connections.
</aside>
<h3 id='requests-auth-requests-preauthreversalrequest'>PreAuthReversalRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">PRE_AUTH_REVERSAL_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">preAuthReversalRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">PreAuthReversalRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">preAuthReversalRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">PRE_AUTH_REVERSAL_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">preAuthReversalRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PreAuthReversalRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">preAuthReversalRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">PRE_AUTH_REVERSAL_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">preAuthReversalRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">PreAuthReversalRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">preAuthReversalRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">PRE_AUTH_REVERSAL_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">preAuthReversalRequest</span> <span class="o">=</span> <span class="kt">PPPreAuthReversalRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">preAuthReversalRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">PRE_AUTH_REVERSAL_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">preAuthReversalRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPPreAuthReversalRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">preAuthReversalRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>Reversal of a previous PreAuth request. The same amount has to be used than for the PreAuth one. No EMV terminal used here. By using the transaction reference the Integra server finds back the original authorization and the EMV data. This request might go for an online approval, depending on the bank interface.</p>

<aside class="warning">
    PreAuthReversalRequest requires the option TAG_AMOUNT
</aside>
<h3 id='requests-auth-requests-topuprequest'>TopUpRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">TOP_UP_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">topUpRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">TopUpRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">topUpRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">TOP_UP_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">topUpRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TopUpRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">topUpRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">TOP_UP_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">topUpRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TopUpRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">topUpRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">TOP_UP_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">topUpRequest</span> <span class="o">=</span> <span class="kt">PPTopUpRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">topUpRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">TOP_UP_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">topUpRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPTopUpRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">topUpRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>Additional or supplemental authorization, done after an initial one. The same requester transaction reference number or token has to be used than for the initial one. The actual total amount has to be provided in the request. No EMV terminal used here. By using the transaction reference the Integra server finds back the original authorization and the EMV data. This request might go for an online approval.</p>

<aside class="warning">
    TopUpRequest TAG_TRANSREFNUM must match the original TAG_TRANSREFNUM issued in the original PreAuthRequest<br>
    TopUpRequest requires the option TAG_AMOUNT
</aside>
<h3 id='requests-auth-requests-topupreversalrequest'>TopUpReversalRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">TOP_UP_REVERSAL_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">topUpReversalRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">TopUpReversalRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">topUpReversalRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">TOP_UP_REVERSAL_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">topUpReversalRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TopUpReversalRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">topUpReversalRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">TOP_UP_REVERSAL_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">topUpReversalRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TopUpReversalRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">topUpReversalRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">TOP_UP_REVERSAL_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">topUpReversalRequest</span> <span class="o">=</span> <span class="kt">PPTopUpReversalRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">topUpReversalRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">TOP_UP_REVERSAL_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">topUpReversalRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPTopUpReversalRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">topUpReversalRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>Reversal of a previous TopUp request. The amount and requester transaction reference number has to be the same than in the TopUp request. No EMV terminal used here. By using the transaction reference the Integra server finds back the original authorization and the EMV data. Then it does a reversal, by using the authorization code received at that time. This request might go for an online approval, depending on the bank interface.</p>

<aside class="warning">
    TopUpReversal requires the option TAG_AMOUNT
</aside>
<h2 id='requests-card-requests'>Card requests</h2><h3 id='requests-card-requests-cardcheckrequest'>CardCheckRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">CARD_CHECK_REQUEST</span><span class="p">)));</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">cardCheckRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">CardCheckRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">cardCheckRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">CARD_CHECK_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">cardCheckRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CardCheckRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">cardCheckRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">CARD_CHECK_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">cardCheckRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CardCheckRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">cardCheckRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">CARD_CHECK_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">cardCheckRequest</span> <span class="o">=</span> <span class="kt">PPCardCheckRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">cardCheckRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">CARD_CHECK_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">cardCheckRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPCardCheckRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">cardCheckRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>Check the provided card data validity and returns a token (if configured).</p>
<h3 id='requests-card-requests-cardcheckremoverequest'>CardCheckRemoveRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">CARD_CHECK_REMOVE_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">cardCheckRemoveRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">CardCheckRemoveRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">cardCheckRemoveRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">CARD_CHECK_REMOVE_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">cardCheckRemoveRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CardCheckRemoveRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">cardCheckRemoveRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">CARD_CHECK_REMOVE_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">cardCheckRemoveRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CardCheckRemoveRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">cardCheckRemoveRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">CARD_CHECK_REMOVE_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">cardCheckRemoveRequest</span> <span class="o">=</span> <span class="kt">PPCardCheckRemoveRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">cardCheckRemoveRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">CARD_CHECK_REMOVE_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">cardCheckRemoveRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPCardCheckRemoveRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">cardCheckRemoveRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>Check the provided card data validity and returns a token (if configured). The terminal will prompt for the card to be removed</p>
<h2 id='requests-control-requests'>Control requests</h2><h3 id='requests-control-requests-activaterequest'>ActivateRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">ACTIVATE_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">activateRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">ActivateRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">activateRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">ACTIVATE_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">activateRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ActivateRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">activateRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">ACTIVATE_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">activateRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ActivateRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">activateRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">ACTIVATE_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">activateRequest</span> <span class="o">=</span> <span class="kt">PPActivateRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">activateRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">ACTIVATE_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">activateRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPActivateRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">activateRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>This request can be used to activate an EMV terminal. Activate will place the terminal in a &quot;technical&quot; operational state so it can be used by the integrator to execute operations. This command is only required in case the integrator has formerly deactivated the terminal. No online message is sent to the acquirer host.</p>
<h3 id='requests-control-requests-deactivaterequest'>DeactivateRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">DEACTIVATE_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">deactivateRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">DeactivateRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">deactivateRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">DEACTIVATE_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">deactivateRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DeactivateRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">deactivateRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">DEACTIVATE_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">deactivateRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DeactivateRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">deactivateRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">DEACTIVATE_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">deactivateRequest</span> <span class="o">=</span> <span class="kt">PPDeactivateRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">deactivateRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">DEACTIVATE_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">deactivateRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPDeactivateRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">deactivateRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>This request can be used to deactivate an EMV terminal. Deactivate will place the terminal into a &quot;technical&quot; non-operational state so it can NOT be used by the integrator to execute operations, and deactivates the reader and pinpad. This command is only required in case the integrator explicitly wants to deactivate a terminal to be sure no operations can be done. No online message is sent to the acquirer host.</p>
<h3 id='requests-control-requests-initializerequest'>InitializeRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">INITIALIZE_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">initializeRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">InitializeRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">initializeRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">INITIALIZE_REQUEST</span><span class="o">)));</span>
<span class="nc">IRequest</span> <span class="n">initializeRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">InitializeRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">initializeRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">INITIALIZE_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">initializeRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">InitializeRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">initializeRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">INITIALIZE_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">initializeRequest</span> <span class="o">=</span> <span class="kt">PPInitializeRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">initializeRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">INITIALIZE_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">initializeRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPInitializeRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">initializeRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>This message command can be send to initialize an EMV terminal with some parameters from the request, and to trigger a configuration and software download.</p>
<h3 id='requests-control-requests-languagerequest'>LanguageRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">LANGUAGE_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">languageRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">LanguageRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">languageRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">LANGUAGE_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">languageRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LanguageRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">languageRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">LANGUAGE_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">languageRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">LanguageRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">languageRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">LANGUAGE_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">languageRequest</span> <span class="o">=</span> <span class="kt">PPLanguageRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">languageRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">LANGUAGE_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">languageRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPLanguageRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">languageRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>Issues a Language request to the terminal</p>

<aside class="warning">
    LanguageRequest requires the option TAG_DATA1 with the target language
</aside>
<h3 id='requests-control-requests-sleeprequest'>SleepRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">SLEEP_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">sleepRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">SleepRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">sleepRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">SLEEP_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">sleepRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SleepRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">sleepRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">SLEEP_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">sleepRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SleepRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">sleepRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">SLEEP_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">sleepRequest</span> <span class="o">=</span> <span class="kt">PPSleepRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">sleepRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">SLEEP_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">sleepRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPSleepRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">sleepRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>Requests the terminal to enter low-power sleep mode</p>
<h3 id='requests-control-requests-configdownloadrequest'>ConfigDownloadRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">CONFIG_DOWNLOAD_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">aConfigDownloadRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">ConfigDownloadRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">aConfigDownloadRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">CONFIG_DOWNLOAD_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">aConfigDownloadRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ConfigDownloadRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">aConfigDownloadRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">CONFIG_DOWNLOAD_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">aConfigDownloadRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ConfigDownloadRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">aConfigDownloadRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">CONFIG_DOWNLOAD_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">aConfigDownloadRequest</span> <span class="o">=</span> <span class="kt">PPConfigDownloadRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">aConfigDownloadRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">CONFIG_DOWNLOAD_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">aConfigDownloadRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPConfigDownloadRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">aConfigDownloadRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>The ConfigDownloadRequest is used to trigger a config download in a PED</p>

<aside class="warning">
    ConfigDownloadRequest requires the option TAG_EMVTERMINALID with the ID of the configuration to download
</aside>
<h3 id='requests-control-requests-resetstoresrequest'>ResetStoresRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">RESET_STORES_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">aResetStoresRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">ResetStoresRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">aResetStoresRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">RESET_STORES_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">aResetStoresRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ResetStoresRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">aResetStoresRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">RESET_STORES_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">aResetStoresRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ResetStoresRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">aResetStoresRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">RESET_STORES_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">aResetStoresRequest</span> <span class="o">=</span> <span class="kt">PPResetStoresRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">aResetStoresRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">RESET_STORES_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">aResetStoresRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPResetStoresRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">aResetStoresRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>The ResetStores request trigger a cache clear of one or more stores.</p>

<aside class="warning">
    ResetStoresRequest requires the option TAG_ALLSTORES with (Y or N) if all stores should be cleared
    ResetStoresRequest requires the option TAG_CONFIGSTORE with (Y or N) if the config store should be cleared
    ResetStoresRequest requires the option TAG_EVENTSTORE with (Y or N) if the event store should be cleared
    ResetStoresRequest requires the option TAG_DATAAPPSTORE with (Y or N) if the application data store should be cleared
    ResetStoresRequest requires the option TAG_DATAINTSTORE with (Y or N) if the integrator data store should be cleared
    ResetStoresRequest requires the option TAG_FIRMWARESTORE with (Y or N) if the firmware store should be cleared
    ResetStoresRequest requires the option TAG_CUSTOMCONFIGURATION with (Y or N) if the custom configuration store should be cleared
    ResetStoresRequest requires the option TAG_PRINTERSPOOLER with (Y or N) if the printer spooler should be cleared
    ResetStoresRequest requires the option TAG_TIMEZONESTORE with (Y or N) if the timezone store should be cleared
</aside>
<h3 id='requests-control-requests-terminalrebootrequest'>TerminalRebootRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">TERMINAL_REBOOT_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">aTerminalRebootRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">TerminalRebootRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">aTerminalRebootRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">TERMINAL_REBOOT_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">aTerminalRebootRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TerminalRebootRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">aTerminalRebootRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">TERMINAL_REBOOT_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">aTerminalRebootRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TerminalRebootRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">aTerminalRebootRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">TERMINAL_REBOOT_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">aTerminalRebootRequest</span> <span class="o">=</span> <span class="kt">PPTerminalRebootRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">aTerminalRebootRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">TERMINAL_REBOOT_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">aTerminalRebootRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPTerminalRebootRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">aTerminalRebootRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>The TerminalReboot request triggers a reboot</p>
<h2 id='requests-settlement-requests'>Settlement requests</h2><h3 id='requests-settlement-requests-completionrequest'>CompletionRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">IRequest</span> <span class="o">*</span><span class="n">completionRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">CompletionRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">COMPLETION_REQUEST</span><span class="p">)));</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">completionRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">COMPLETION_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">completionRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CompletionRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">completionRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">COMPLETION_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">completionRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CompletionRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">completionRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">COMPLETION_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">completionRequest</span> <span class="o">=</span> <span class="kt">PPCompletionRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">completionRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">COMPLETION_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">completionRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPCompletionRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">completionRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>This request is for a finalization of a transaction for which pre-authorizations and top-up authorizations have been done before. The same requester transaction reference number or token has to be passed in the request than for the initial and supplementary authorizations. The authorization code received from the bank must be supplied by the integrator. The Completion might go online depending on the bank interface. The terminal is used, e.g. to provide a screen with the DCC choice and confirmation, and/or to printout the receipt on the terminal, if configured so.</p>

<aside class="warning">
    CompletionRequest requires the option TAG_AMOUNT
</aside>
<h3 id='requests-settlement-requests-completionreversalrequest'>CompletionReversalRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">COMPLETION_REVERSAL_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">completionReversalRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">CompletionReversalRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">completionReversalRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">COMPLETION_REVERSAL_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">completionReversalRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CompletionReversalRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">completionReversalRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">COMPLETION_REVERSAL_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">completionReversalRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CompletionReversalRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">completionReversalRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">COMPLETION_REVERSAL_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">completionReversalRequest</span> <span class="o">=</span> <span class="kt">PPCompletionReversalRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">completionReversalRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">COMPLETION_REVERSAL_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">completionReversalRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPCompletionReversalRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">completionReversalRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>Reversal of a completion. No PIN entry required. The requester transaction reference number has to be the same than in the Completion request.</p>

<aside class="warning">
    CompletionReversalRequest requires the option TAG_AMOUNT
</aside>
<h3 id='requests-settlement-requests-completionnoterminalrequest'>CompletionNoTerminalRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">IRequest</span> <span class="o">*</span><span class="n">completionRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">CompletionNoTerminalRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">COMPLETION_NO_TERMINAL_REQUEST</span><span class="p">)));</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">completionRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">COMPLETION_NO_TERMINAL_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">completionRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CompletionNoTerminalRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">completionRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">COMPLETION_NO_TERMINAL_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">completionRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CompletionNoTerminalRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">completionRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">COMPLETION_NO_TERMINAL_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">completionRequest</span> <span class="o">=</span> <span class="kt">PPCompletionNoTerminalRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">completionRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">COMPLETION_NO_TERMINAL_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">completionRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPCompletionNoTerminalRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">completionRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>This request is for a finalization of a transaction for which pre-authorizations and top-up authorizations have been done before. The same requester transaction reference number or token has to be passed in the request than for the initial and supplementary authorizations. The authorization code received from the bank must be supplied by the integrator. The Completion might go online depending on the bank interface.</p>

<aside class="warning">
    CompletionNoTerminalRequest is only available in H2H connections<br>
    CompletionNoTerminalRequest TAG_TRANSREFNUM must match the original TAG_TRANSREFNUM issued in the original PreAuth and TopUp requests
</aside>
<h3 id='requests-settlement-requests-refundrequest'>RefundRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">REFUND_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">refundRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">RefundRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">refundRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">REFUND_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">refundRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">RefundRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">refundRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">REFUND_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">refundRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RefundRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">refundRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">REFUND_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">refundRequest</span> <span class="o">=</span> <span class="kt">PPRefundRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">refundRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">REFUND_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">refundRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPRefundRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">refundRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>This is a direct credit transaction request. The amount can have any value. The transaction can go for an online request in case the amount is higher than the Integra floor limit of the card.
Like the Sale request the Refund is getting the EMV information out of the Integra database. In case no EMV data is found the card information from the request is used. . In this case a NON-EMV transaction which will be created.</p>

<aside class="warning">
    RefundRequest requires the option TAG_AMOUNT
</aside>
<h3 id='requests-settlement-requests-refundreversalrequest'>RefundReversalRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">REFUND_REVERSAL_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">refundReversalRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">RefundReversalRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">refundReversalRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">REFUND_REVERSAL_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">refundReversalRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">RefundReversalRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">refundReversalRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">REFUND_REVERSAL_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">refundReversalRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RefundReversalRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">refundReversalRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">REFUND_REVERSAL_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">refundReversalRequest</span> <span class="o">=</span> <span class="kt">PPRefundReversalRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">refundReversalRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">REFUND_REVERSAL_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">refundReversalRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPRefundReversalRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">refundReversalRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>Reversal of a refund. No PIN entry required. The requester transaction reference number has to be the same than in the Refund
request.</p>

<aside class="warning">
    RefundReversalRequest requires the option TAG_AMOUNT
</aside>
<h3 id='requests-settlement-requests-refundnoterminalrequest'>RefundNoTerminalRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">REFUND_NO_TERMINAL_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">refundRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">RefundNoTerminalRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">refundRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">REFUND_NO_TERMINAL_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">refundRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">RefundNoTerminalRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">refundRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">REFUND_NO_TERMINAL_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">refundRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RefundNoTerminalRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">refundRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">REFUND_NO_TERMINAL_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">refundRequest</span> <span class="o">=</span> <span class="kt">PPRefundNoTerminalRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">refundRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">REFUND_NO_TERMINAL_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">refundRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPRefundNoTerminalRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">refundRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>This is a direct credit transaction request. The amount can have any value. The transaction can go for an online request in case the amount is higher than the Integra floor limit of the card.
The RefundNoTerminalRequest gets the EMV information out of the Integra database. In case no EMV data is found the card information from the request is used. In this case a NON-EMV transaction will be created.</p>

<aside class="warning">
    RefundNoTerminalRequest is only available in H2H connections
</aside>
<h3 id='requests-settlement-requests-salerequest'>SaleRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">SALE_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">saleRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">SaleRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">saleRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">SALE_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">saleRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SaleRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">saleRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">SALE_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">saleRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SaleRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">saleRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">SALE_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">saleRequest</span> <span class="o">=</span> <span class="kt">PPSaleRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">saleRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">SALE_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">saleRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPSaleRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">saleRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>This is a debit transaction request. In one request, the transaction is validated, authorized and settled. In case no authorization code is passed in the request the application can go for an online authorization, depending on the Integra&#39;s floor limit. When an authorization code is passed in the request the settlement is done offline.</p>

<aside class="warning">
    SaleRequest requires the option TAG_AMOUNT
</aside>
<h3 id='requests-settlement-requests-salereversalrequest'>SaleReversalRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">SALE_REVERSAL_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">saleReversalRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">SaleReversalRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">saleReversalRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">SALE_REVERSAL_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">saleReversalRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SaleReversalRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">saleReversalRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">SALE_REVERSAL_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">saleReversalRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SaleReversalRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">saleReversalRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">SALE_REVERSAL_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">saleReversalRequest</span> <span class="o">=</span> <span class="kt">PPSaleReversalRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">saleReversalRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">SALE_REVERSAL_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">saleReversalRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPSaleReversalRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">saleReversalRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>Reversal of a sale. No PIN entry required. The requester transaction reference number has to be the same than in the Sale
request.</p>

<aside class="warning">
    SaleRequestReversal requires the option TAG_AMOUNT
</aside>
<h3 id='requests-settlement-requests-salenoterminalrequest'>SaleNoTerminalRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">SALE_NO_TERMINAL_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">saleRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">SaleNoTerminalRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">saleRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">SALE_NO_TERMINAL_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">saleRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SaleNoTerminalRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">saleRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">SALE_NO_TERMINAL_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">saleRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SaleNoTerminalRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">saleRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">SALE_NO_TERMINAL_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">saleRequest</span> <span class="o">=</span> <span class="kt">PPSaleNoTerminalRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">saleRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">SALE_NO_TERMINAL_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">saleRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPSaleNoTerminalRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">saleRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>This is a debit transaction request. In one request, the transaction is validated, authorized and settled. In case no authorization code is passed in the request the application can go for an online authorization, depending on Integra&#39;s floor limit. When an authorization code is passed in the request the settlement is done offline.
This request tries to do an EMV settlement without terminal. No PIN entry is required. The Integra application will search and use the EMV parameters from the database, by using the requester transaction id. These ones might have been collected on a previous &quot;EftAuthorizationEmv&quot; (PreAuth) or &quot;EftSettlementEmv&quot; (Sale). In case no EMV data is found the card information from the request is used. In this case a NON-EMV transaction will be created.</p>

<aside class="warning">
    SaleNoTerminalRequest requires the option TAG_AMOUNT<br>
    SaleNoTerminalRequest is only available in H2H connections
</aside>
<h2 id='requests-shift-requests'>Shift requests</h2><h3 id='requests-shift-requests-shiftopenrequest'>ShiftOpenRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">SHIFT_OPEN_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">shiftOpenRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">ShiftOpenRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">shiftOpenRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">SHIFT_OPEN_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">shiftOpenRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ShiftOpenRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">shiftOpenRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">SHIFT_OPEN_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">shiftOpenRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ShiftOpenRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">shiftOpenRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">SHIFT_OPEN_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">shiftOpenRequest</span> <span class="o">=</span> <span class="kt">PPShiftOpenRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">shiftOpenRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">SHIFT_OPEN_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">shiftOpenRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPShiftOpenRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">shiftOpenRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>This request can be used to open the shift of a specific an EMV terminal. It shall be sent if the terminal has previously been closed by a shiftClose command. The terminal might also send an online message to the Integra Front-End host. Verify with Planet if this message is required.</p>
<h3 id='requests-shift-requests-shiftcloserequest'>ShiftCloseRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">SHIFT_CLOSE_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">shiftCloseRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">ShiftCloseRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">shiftCloseRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">SHIFT_CLOSE_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">shiftCloseRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ShiftCloseRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">shiftCloseRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">SHIFT_CLOSE_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">shiftCloseRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ShiftCloseRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">shiftCloseRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">SHIFT_CLOSE_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">shiftCloseRequest</span> <span class="o">=</span> <span class="kt">PPShiftCloseRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">shiftCloseRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">SHIFT_CLOSE_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">shiftCloseRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPShiftCloseRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">shiftCloseRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>This request can be used to close the shift of a specific an EMV terminal. In case the terminal is directly communicating with the acquirer all remaining transactions on the terminal shall be uploaded before the terminal is closed. As for the deactivate command the terminal will be placed out of operational state. The terminal might also send an online message to the Integra Front-End host. Verify with Planet if this message is required.</p>
<h3 id='requests-shift-requests-shiftcloseopenrequest'>ShiftCloseOpenRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">SHIFT_CLOSE_OPEN_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">shiftCloseOpenRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">ShiftCloseOpenRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">shiftCloseOpenRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">SHIFT_CLOSE_OPEN_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">shiftCloseOpenRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ShiftCloseOpenRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">shiftCloseOpenRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">SHIFT_CLOSE_OPEN_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">shiftCloseOpenRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ShiftCloseOpenRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">shiftCloseOpenRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">SHIFT_CLOSE_OPEN_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">shiftCloseOpenRequest</span> <span class="o">=</span> <span class="kt">PPShiftCloseOpenRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">shiftCloseOpenRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">SHIFT_CLOSE_OPEN_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">shiftCloseOpenRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPShiftCloseOpenRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">shiftCloseOpenRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>This request can be used to first close, then right after open a shift for a specific EMV terminal. For simplicity to not use two messages. This is the normal use case of the message.
For solutions where the terminal is acting as a standalone connected as client and processing payments requests to Integra and the message In this case, Integra sends back a string to indicate a whether new EMV settings have to be retrieved by the terminal.</p>
<h2 id='requests-status-requests'>Status requests</h2><h3 id='requests-status-requests-inforequest'>InfoRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">INFO_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">infoRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">InfoRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">infoRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">INFO_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">infoRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">InfoRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">infoRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">INFO_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">infoRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">InfoRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">infoRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">INFO_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">infoRequest</span> <span class="o">=</span> <span class="kt">PPInfoRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">infoRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">INFO_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">infoRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPInfoRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">infoRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>The InfoRequest is used to either retrieve certain status information from the terminal, or if configured, automatically sends back status messages to the integrator. It can be used by integrators who need more information about the status of the terminal, than just the transaction response reply. The following status information might be available, depending on the terminal solution.</p>
<h2 id='requests-other-requests'>Other requests</h2><h3 id='requests-other-requests-cancelrequest'>CancelRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">CANCEL_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">cancelRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">CancelRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">cancelRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">CANCEL_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">cancelRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CancelRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">cancelRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">CANCEL_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">cancelRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CancelRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">cancelRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">CANCEL_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">cancelRequest</span> <span class="o">=</span> <span class="kt">PPCancelRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">cancelRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">CANCEL_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">cancelRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPCancelRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">cancelRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>In the current implementation in case a request is made and the requester disconnects from the Integra application the request is going to be cancelled, and possibly reversed if a transactions had been created.
In addition to a disconnect ion an extra &quot;Cancel&quot; message exists in the protocol to cancel the request previously done. Like this the integrator may cancel a request and still stay connected to the Integra application.</p>

<aside class="warning">
    CancelRequest requires the option TAG_SEQUENCENUMBERTOCANCEL with sequence number of the message to cancel
</aside>
<h3 id='requests-other-requests-checkstatusrequest'>CheckStatusRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">CHECK_STATUS_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">checkStatusRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">CheckStatusRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">checkStatusRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">CHECK_STATUS_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">checkStatusRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CheckStatusRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">checkStatusRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">CHECK_STATUS_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">checkStatusRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CheckStatusRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">checkStatusRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">CHECK_STATUS_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">checkStatusRequest</span> <span class="o">=</span> <span class="kt">PPCheckStatusRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">checkStatusRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">CHECK_STATUS_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">checkStatusRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPCheckStatusRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">checkStatusRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>The CheckStatus message is used to check the readiness of the application. The RequesterTransRefNum attribute of the header has not to be provided in this request.</p>
<h3 id='requests-other-requests-checklinestatusrequest'>CheckLineStatusRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">CHECKLINE_STATUS_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">checkLineStatusRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">CheckLineStatusRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">checkLineStatusRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">CHECKLINE_STATUS_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="n">checkLineStatusRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CheckLineStatusRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="n">checkLineStatusRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">CHECKLINE_STATUS_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">checkLineStatusRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CheckLineStatusRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">checkLineStatusRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">CHECKLINE_STATUS_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">checkLineStatusRequest</span> <span class="o">=</span> <span class="kt">PPCheckLineStatusRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">checkLineStatusRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">CHECKLINE_STATUS_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">checkLineStatusRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPCheckLineStatusRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">checkLineStatusRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>The CheckLineStatus message is used to check the readiness of the application. The RequesterTransRefNum attribute of the header has not to be provided in this request.</p>
<h3 id='requests-other-requests-datarequest'>DataRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">DATA_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">DataRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">DataRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">DataRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">DATA_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="nc">DataRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DataRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="nc">DataRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">DATA_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">DataRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DataRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">DataRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">DATA_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">DataRequest</span> <span class="o">=</span> <span class="kt">PPDataRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">DataRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">DATA_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">DataRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPDataRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">DataRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>The DataRequest is used to retrieve transaction information for the most recent transaction.</p>
<h3 id='requests-other-requests-transactioninquiryrequest'>TransactionInquiryRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requestOptions</span><span class="p">;</span>
<span class="n">requestOptions</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="o">::</span><span class="n">TRANSACTION_INQUIRY_REQUEST</span><span class="p">)));</span>

<span class="n">IRequest</span> <span class="o">*</span><span class="n">TransactionInquiryRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">TransactionInquiryRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="o">*</span><span class="n">TransactionInquiryRequest</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">requestOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">requestOptions</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nl">RequestFactory:</span><span class="o">:</span><span class="no">KEY_REQUEST</span><span class="o">,</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">TRANSACTION_INQUIRY_REQUEST</span><span class="o">)));</span>

<span class="nc">IRequest</span> <span class="nc">TransactionInquiryRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TransactionInquiryRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>

<span class="c1">//via RequestFactory</span>
<span class="nc">IRequest</span> <span class="nc">TransactionInquiryRequest</span> <span class="o">=</span> <span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">requestOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="p">,</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">RequestFactory</span><span class="p">.</span><span class="n">RequestType</span><span class="p">.</span><span class="n">TRANSACTION_INQUIRY_REQUEST</span><span class="p">)</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">IRequest</span> <span class="n">TransactionInquiryRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TransactionInquiryRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>

<span class="c1">//via RequestFactory</span>
<span class="n">IRequest</span> <span class="n">TransactionInquiryRequest</span> <span class="p">=</span> <span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">requestOptions</span><span class="p">:</span><span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>

    <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nv">key_REQUEST</span><span class="p">:</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="kt">PPRequestType</span><span class="o">.</span><span class="kt">TRANSACTION_INQUIRY_REQUEST</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">TransactionInquiryRequest</span> <span class="o">=</span> <span class="kt">PPTransactionInquiryRequest</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>

<span class="c1">//via PPRequestFactory</span>
<span class="k">let</span> <span class="nv">TransactionInquiryRequest</span> <span class="o">=</span> <span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">requestOptions</span> <span class="o">=</span> <span class="p">@{</span>

    <span class="n">PPRequestFactory</span><span class="p">.</span><span class="n">KEY_REQUEST</span><span class="o">:</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">TRANSACTION_INQUIRY_REQUEST</span><span class="p">]</span>
<span class="p">};</span>

<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">TransactionInquiryRequest</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PPTransactionInquiryRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithOptions</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>

<span class="c1">//Via PPRequestFactory</span>
<span class="n">PPIRequest</span> <span class="o">*</span><span class="n">TransactionInquiryRequest</span> <span class="o">=</span> <span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>The TransactionInquiryRequest is used to retrieve transaction information. It can be used to retrieve the data from the most recent transaction or using the original sequence number, original payment reference id or original request id to retrieve the transaction information for a specific transaction.</p>

<aside class="warning">
    TransactionInquiryRequest requires the option TAG_ORIGINALSEQNUMBER if TAG_EFTTYPE is set to "SeqNum".
</aside>
<h1 id='requestfactory'>RequestFactory</h1>
<p>The request factory allows you to obtain IRequest instances using a set of options. <a href="#requestfactory-options">RequestFactory KEY_REQUEST</a> is required. Other options may be required depending on which type of requests is selected.</p>
<h2 id='requestfactory-requesttype'>RequestType</h2>
<p>The following request types are available:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PRE_AUTH_REQUEST</td>
<td>PreAuth request</td>
</tr>
<tr>
<td>PRE_AUTH_REVERSAL_REQUEST</td>
<td>PreAuthReversal request</td>
</tr>
<tr>
<td>TOP_UP_REQUEST</td>
<td>TopUp request</td>
</tr>
<tr>
<td>TOP_UP_REVERSAL_REQUEST</td>
<td>TopUpReversal request</td>
</tr>
<tr>
<td>CARD_CHECK_REMOVE_REQUEST</td>
<td>CardCheckRemove request</td>
</tr>
<tr>
<td>CARD_CHECK_REQUEST</td>
<td>CardCheck request</td>
</tr>
<tr>
<td>CARD_CHECK_VALIDATE_REQUEST</td>
<td>CardCheckValidate request</td>
</tr>
<tr>
<td>ACTIVATE_REQUEST</td>
<td>Activate request</td>
</tr>
<tr>
<td>DEACTIVATE_REQUEST</td>
<td>Deactivate request</td>
</tr>
<tr>
<td>INITIALIZE_REQUEST</td>
<td>Initialize request</td>
</tr>
<tr>
<td>LANGUAGE_REQUEST</td>
<td>Language request</td>
</tr>
<tr>
<td>SLEEP_REQUEST</td>
<td>Sleep request</td>
</tr>
<tr>
<td>COMPLETION_REQUEST</td>
<td>Completion request</td>
</tr>
<tr>
<td>COMPLETION_REVERSAL_REQUEST</td>
<td>CompletionReversal request</td>
</tr>
<tr>
<td>REFUND_REQUEST</td>
<td>Refund request</td>
</tr>
<tr>
<td>REFUND_REVERSAL_REQUEST</td>
<td>RefundReversal request</td>
</tr>
<tr>
<td>SALE_REQUEST</td>
<td>Sale request</td>
</tr>
<tr>
<td>SALE_REVERSAL_REQUEST</td>
<td>SaleReversal request</td>
</tr>
<tr>
<td>SHIFT_CLOSE_OPEN_REQUEST</td>
<td>ShiftCloseOpen request</td>
</tr>
<tr>
<td>SHIFT_CLOSE_REQUEST</td>
<td>ShiftClose request</td>
</tr>
<tr>
<td>SHIFT_OPEN_REQUEST</td>
<td>ShiftOpen request</td>
</tr>
<tr>
<td>INFO_REQUEST</td>
<td>Info request</td>
</tr>
<tr>
<td>CANCEL_REQUEST</td>
<td>Cancel request</td>
</tr>
<tr>
<td>CHECK_STATUS_REQUEST</td>
<td>CheckStatus request</td>
</tr>
<tr>
<td>CHECKLINE_STATUS_REQUEST</td>
<td>CheckLineStatus request</td>
</tr>
<tr>
<td>DATA_REQUEST</td>
<td>Data request</td>
</tr>
<tr>
<td>CONFIG_DOWNLOAD_REQUEST</td>
<td>ConfigDownload request</td>
</tr>
<tr>
<td>RESET_STORES_REQUEST</td>
<td>ResetStore request</td>
</tr>
<tr>
<td>TERMINAL_REBOOT_REQUEST</td>
<td>TerminalReboot request</td>
</tr>
</tbody></table>
<h2 id='requestfactory-options'>Options</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>KEY_REQUEST</td>
<td>The request name to use</td>
</tr>
</tbody></table>
<h2 id='requestfactory-methods'>Methods</h2><h3 id='requestfactory-methods-getrequest'>getRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequest</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequest</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequest</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>Retrieves an IRequest with the requested options</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>requestOptions</td>
<td>Map</td>
<td>An option map containing which request is being requested, as well as any options for this request</td>
</tr>
</tbody></table>
<h3 id='requestfactory-methods-getrequestgrouplist'>getRequestGroupList</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestGroupList</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestGroupList</span><span class="o">();</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestGroupList</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestGroupList</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestGroupList</span><span class="p">];</span>
</code></pre></div>
<p>Retrieves a list of the request groups</p>
<h3 id='requestfactory-methods-getrequestlistforgroup'>getRequestListForGroup</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestListForGroup</span><span class="p">(</span><span class="n">requestGroupName</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestListForGroup</span><span class="o">(</span><span class="n">requestGroupName</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestListForGroup</span><span class="p">(</span><span class="n">requestGroupName</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestListForGroup</span><span class="p">(</span><span class="n">requestGroupName</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestListForGroup</span><span class="p">:</span><span class="n">requestGroupName</span><span class="p">];</span>
</code></pre></div>
<p>Retrieves a list of the requests in a request group</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>requestGroupName</td>
<td>String</td>
<td>The request group name</td>
</tr>
</tbody></table>
<h3 id='requestfactory-methods-getoptionsforrequest'>getOptionsForRequest</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">RequestFactory</span><span class="o">::</span><span class="n">getOptionsForRequest</span><span class="p">(</span><span class="n">requestName</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getOptionsForRequest</span><span class="o">(</span><span class="n">requestName</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getOptionsForRequest</span><span class="p">(</span><span class="n">requestName</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getOptionsForRequest</span><span class="p">(</span><span class="n">requestName</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getOptionsForRequest</span><span class="p">:</span><span class="n">requestName</span><span class="p">];</span>
</code></pre></div>
<p>Retrives a list of all the required and optional options for a request</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>requestName</td>
<td>String</td>
<td>The request name being requested</td>
</tr>
</tbody></table>
<h3 id='requestfactory-methods-getrequesttype'>getRequestType</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestType</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestType</span><span class="o">(</span><span class="n">requestOptions</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestType</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestType</span><span class="p">(</span><span class="n">requestOptions</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestType</span><span class="p">:</span><span class="n">requestOptions</span><span class="p">];</span>
</code></pre></div>
<p>Extracts the RequestType from a set of options</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>requestOptions</td>
<td>Map</td>
<td>An option map containing which request is being requested, as well as any options for this request</td>
</tr>
</tbody></table>
<h3 id='requestfactory-methods-getrequesttype'>getRequestType</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestType</span><span class="p">(</span><span class="n">requestName</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestType</span><span class="o">(</span><span class="n">requestName</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestType</span><span class="p">(</span><span class="n">requestName</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestType</span><span class="p">(</span><span class="n">requestName</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestType</span><span class="p">:</span><span class="n">requestName</span><span class="p">];</span>
</code></pre></div>
<p>Converts a requestName into a RequestType</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>requestName</td>
<td>String</td>
<td>The request name to convert into a RequestType</td>
</tr>
</tbody></table>
<h3 id='requestfactory-methods-getrequestname'>getRequestName</h3><div class="highlight"><pre class="highlight cpp tab-cpp"><code><span class="n">RequestFactory</span><span class="o">::</span><span class="n">getRequestName</span><span class="p">(</span><span class="n">requestType</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">RequestFactory</span><span class="o">.</span><span class="na">getRequestName</span><span class="o">(</span><span class="n">requestType</span><span class="o">);</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="n">RequestFactory</span><span class="p">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">requestType</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight swift tab-swift"><code><span class="kt">PPRequestFactory</span><span class="o">.</span><span class="nf">getRequestName</span><span class="p">(</span><span class="n">requestType</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight objective_c tab-objective_c"><code><span class="p">[</span><span class="n">PPRequestFactory</span> <span class="nf">getRequestName</span><span class="p">:</span><span class="n">requestType</span><span class="p">];</span>
</code></pre></div>
<p>Converts a RequestType into a request name</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>requestType</td>
<td>RequestType</td>
<td>The request&#39;s type</td>
</tr>
</tbody></table>
